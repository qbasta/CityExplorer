@using Microsoft.AspNetCore.Identity;
@model List<CityExplorer.Models.UserLandmarkList>
@inject UserManager<AppUser> UserManager

<div class="tbl-container">
    <h2>Publiczne listy zabytków</h2>
    @foreach (var list in Model.OrderByDescending(l => l.CreatedAt))
    {
        <div class="public-list">
            <h3>@list.Name (@list.CreatedAt.ToString("dd-MM-yyyy HH:mm"))</h3>
            <p>Udostępnione przez: @list.SharedBy</p>

            <a asp-action="RouteDetails" asp-route-id="@list.Id" class="btn btn-default">Szczegóły</a>
            <table class="table">
                <thead>
                    <tr>
                        <th>Zdjęcie</th>
                        <th>Nazwa</th>
                    </tr>
                </thead>
                @foreach (var item in list.UserLandmarks)
                {
                    <tr>
                        <td><img style="height:90px;width:90px" src="/Uploads/@item.Landmark.ImagePath" /></td>
                        <td>@item.Landmark.Name</td>
                    </tr>
                }
            </table>
        </div>
    }
</div>

